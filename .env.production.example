# ================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# Astral Core Mental Health Platform v2.0
# ================================================================
# 
# CRITICAL: This file contains production API keys and configurations
# NEVER commit the actual .env.production file to version control
# Copy this to .env.production and fill in actual production values
#
# Last Updated: 2025-08-29
# Deployment Contact: production-support@astralcore.health
# Emergency Contact: +1-XXX-XXX-XXXX (24/7 On-Call)
# ================================================================

# ================================
# ENVIRONMENT SETTINGS
# ================================
NODE_ENV=production
DEPLOYMENT_ENV=production
APP_VERSION=2.0.0
DEPLOYMENT_ID=${DEPLOYMENT_ID:-prod-$(date +%Y%m%d-%H%M%S)}

# ================================
# APPLICATION URLS
# ================================
VITE_APP_URL=https://app.astralcore.health
VITE_API_BASE_URL=https://api.astralcore.health/v2
VITE_WEBSOCKET_URL=wss://ws.astralcore.health
VITE_CDN_URL=https://cdn.astralcore.health

# ================================
# AI SERVICES - PRIMARY PROVIDERS
# ================================

# OpenAI GPT-4 (Primary Crisis Detection)
VITE_OPENAI_API_KEY=sk-prod-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_OPENAI_ORG_ID=org-XXXXXXXXXXXXXXXXXX
VITE_OPENAI_MODEL=gpt-4-turbo
VITE_OPENAI_CRISIS_MODEL=gpt-4-turbo
VITE_OPENAI_MAX_TOKENS=2000
VITE_OPENAI_TEMPERATURE=0.7
VITE_OPENAI_TIMEOUT_MS=5000
VITE_OPENAI_RETRY_ATTEMPTS=3

# Anthropic Claude (Primary Therapeutic Chat)
VITE_ANTHROPIC_API_KEY=sk-ant-prod-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_ANTHROPIC_MODEL=claude-3-opus-20240229
VITE_ANTHROPIC_MAX_TOKENS=2000
VITE_ANTHROPIC_TEMPERATURE=0.6
VITE_ANTHROPIC_TIMEOUT_MS=5000

# Google Gemini (Multilingual Support)
VITE_GOOGLE_GEMINI_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_GEMINI_MODEL=gemini-pro
VITE_GEMINI_SAFETY_THRESHOLD=BLOCK_NONE
VITE_GEMINI_MAX_TOKENS=1500

# Hugging Face (Fallback Service)
VITE_HUGGINGFACE_API_KEY=hf_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_HF_FALLBACK_MODEL=microsoft/DialoGPT-medium

# ================================
# CRISIS SERVICES - CRITICAL
# ================================

# 988 Suicide & Crisis Lifeline Integration
VITE_988_API_ENDPOINT=https://api.988lifeline.org/v2
VITE_988_API_KEY=988-prod-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_988_WEBHOOK_SECRET=webhook-secret-XXXXXXXXXXXXXXXXXXXX
VITE_988_AUTO_CONNECT_ENABLED=true
VITE_988_CONSENT_REQUIRED=true

# Crisis Text Line Integration
VITE_CRISIS_TEXT_API_KEY=ctl-prod-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_CRISIS_TEXT_NUMBER=741741
VITE_CRISIS_TEXT_WEBHOOK_URL=https://api.astralcore.health/webhooks/crisis-text

# Emergency Services (911 Integration)
VITE_RAPIDSOS_API_KEY=rapidsos-prod-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_EMERGENCY_DISPATCH_URL=https://api-secure.rapidsos.com/v1/emergency
VITE_EMERGENCY_WEBSOCKET_URL=wss://dispatch.rapidsos.com/ws
VITE_911_AUTO_DIAL_THRESHOLD=0.95
VITE_911_CONSENT_OVERRIDE=true  # Override consent for imminent danger

# Mental Health Services APIs
VITE_SAMHSA_API_KEY=samhsa-prod-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_NAMI_API_KEY=nami-prod-XXXXXXXXXXXXXXXXXXXXXXXXXX

# ================================
# GOOGLE SERVICES
# ================================
VITE_GOOGLE_PLACES_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_GOOGLE_GEOCODING_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_GOOGLE_MAPS_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ================================
# AUTHENTICATION & SECURITY
# ================================

# JWT Configuration
JWT_SECRET=prod-jwt-secret-minimum-64-characters-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
JWT_ALGORITHM=RS256
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=https://api.astralcore.health
JWT_AUDIENCE=https://app.astralcore.health

# Session Configuration
SESSION_SECRET=prod-session-secret-minimum-64-characters-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
SESSION_NAME=astral.prod.sid
SESSION_MAX_AGE=86400000
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# OAuth Providers
VITE_GOOGLE_CLIENT_ID=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_APPLE_CLIENT_ID=com.astralcore.health.signin
APPLE_TEAM_ID=XXXXXXXXXX
APPLE_KEY_ID=XXXXXXXXXX
APPLE_PRIVATE_KEY_PATH=/secure/keys/apple-signin.p8

# Encryption Keys
ENCRYPTION_KEY=prod-encryption-key-exactly-32-characters!!!
ENCRYPTION_IV=prod-iv-16-char!
CRYPTO_ALGORITHM=aes-256-gcm
ENCRYPTION_SALT=prod-salt-minimum-32-characters-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ================================
# DATABASE CONFIGURATION
# ================================

# Primary Database (PostgreSQL)
DATABASE_URL=postgresql://astral_prod:XXXXXXXXXXXXXXXXXX@prod-db.astralcore.health:5432/astralcore_prod?ssl=require&sslmode=require
DATABASE_SSL=true
DATABASE_SSL_CERT=/secure/certs/db-ca.crt
DATABASE_POOL_MIN=10
DATABASE_POOL_MAX=50
DATABASE_IDLE_TIMEOUT=30000
DATABASE_CONNECTION_TIMEOUT=10000

# Read Replica (for analytics)
DATABASE_READ_REPLICA_URL=postgresql://astral_read:XXXXXXXXXXXXXXXXXX@read-db.astralcore.health:5432/astralcore_prod?ssl=require

# Redis Cache
REDIS_URL=rediss://prod-redis.astralcore.health:6380
REDIS_PASSWORD=redis-prod-password-XXXXXXXXXXXXXXXXXXXXXXXXXX
REDIS_TLS=true
REDIS_TLS_CERT=/secure/certs/redis-ca.crt
REDIS_DB=0
REDIS_KEY_PREFIX=astral:prod:

# ================================
# MONITORING & OBSERVABILITY
# ================================

# Sentry Error Tracking
SENTRY_DSN=https://XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX@o4504504504504504.ingest.sentry.io/4504504504504504
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
SENTRY_REPLAY_SESSION_SAMPLE_RATE=0.1
SENTRY_REPLAY_ON_ERROR_SAMPLE_RATE=1.0

# DataDog APM
DATADOG_API_KEY=dd-api-key-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DATADOG_APP_KEY=dd-app-key-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DATADOG_SITE=datadoghq.com
DATADOG_ENV=production
DATADOG_SERVICE=astralcore-mental-health

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DESTINATION=datadog
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for HIPAA

# ================================
# COMMUNICATION SERVICES
# ================================

# Email (SendGrid)
SENDGRID_API_KEY=SG.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
EMAIL_FROM=noreply@astralcore.health
EMAIL_REPLY_TO=support@astralcore.health
EMAIL_VERIFICATION_URL=https://app.astralcore.health/verify-email
EMAIL_RESET_PASSWORD_URL=https://app.astralcore.health/reset-password

# SMS (Twilio)
TWILIO_ACCOUNT_SID=ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_AUTH_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_PHONE_NUMBER=+1XXXXXXXXXX
TWILIO_MESSAGING_SERVICE_SID=MGXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Push Notifications (Web Push)
VAPID_PUBLIC_KEY=BIPXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VAPID_PRIVATE_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VAPID_SUBJECT=mailto:admin@astralcore.health

# WebRTC (for crisis calls)
VITE_WEBRTC_STUN_SERVER=stun:stun.astralcore.health:3478
VITE_WEBRTC_TURN_SERVER=turn:turn.astralcore.health:3478
VITE_WEBRTC_TURN_USERNAME=astral-prod
VITE_WEBRTC_TURN_PASSWORD=turn-prod-password-XXXXXXXXXXXXXXXXXX

# ================================
# COMPLIANCE & SECURITY
# ================================

# HIPAA Compliance
HIPAA_AUDIT_ENABLED=true
HIPAA_ENCRYPTION_REQUIRED=true
HIPAA_DATA_RETENTION_DAYS=2555  # 7 years
HIPAA_ACCESS_LOG_ENABLED=true
HIPAA_BREACH_NOTIFICATION_EMAIL=compliance@astralcore.health

# Security Headers
SECURITY_HSTS_ENABLED=true
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_CSP_ENABLED=true
SECURITY_CSP_REPORT_URI=https://api.astralcore.health/csp-report

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000  # 1 minute
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_CRISIS_MAX=10000  # No real limit for crisis
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# CORS Configuration
CORS_ORIGINS=https://app.astralcore.health,https://www.astralcore.health
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ================================
# FEATURE FLAGS
# ================================
ENABLE_2FA=true
ENABLE_OAUTH=true
ENABLE_ANONYMOUS_AUTH=true
ENABLE_BIOMETRIC_AUTH=true
ENABLE_AI_CRISIS_DETECTION=true
ENABLE_988_INTEGRATION=true
ENABLE_911_INTEGRATION=true
ENABLE_CRISIS_TEXT=true
ENABLE_WEBRTC_CALLING=true
ENABLE_LOCATION_SERVICES=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_THERAPY_MATCHING=true
ENABLE_PEER_SUPPORT=true
ENABLE_TELETHERAPY=true
ENABLE_MEDICATION_TRACKING=true
ENABLE_MOOD_TRACKING=true
ENABLE_JOURNAL=true
ENABLE_SAFETY_PLAN=true
ENABLE_RESOURCE_LIBRARY=true
ENABLE_FORUM=true
ENABLE_CHAT=true
ENABLE_VIDEO_LIBRARY=true
ENABLE_MINDFULNESS=true
ENABLE_BREATHING_EXERCISES=true
ENABLE_SLEEP_TRACKING=true
ENABLE_SYMPTOM_TRACKING=true
ENABLE_GOAL_SETTING=true
ENABLE_PROGRESS_TRACKING=true
ENABLE_CERTIFICATES=true
ENABLE_GAMIFICATION=true
ENABLE_ACHIEVEMENTS=true
ENABLE_MULTILINGUAL=true
ENABLE_CULTURAL_ADAPTATION=true
ENABLE_ADMIN_DASHBOARD=true
ENABLE_ANALYTICS=true
ENABLE_A_B_TESTING=true
ENABLE_MAINTENANCE_MODE=false

# ================================
# CRISIS THRESHOLDS & SETTINGS
# ================================
VITE_CRISIS_AUTO_DIAL_THRESHOLD=0.85
VITE_EMERGENCY_ESCALATION_THRESHOLD=0.95
VITE_MONITORING_ALERT_THRESHOLD=0.70
VITE_AI_CONFIDENCE_THRESHOLD=0.80
VITE_HUMAN_REVIEW_THRESHOLD=0.60
VITE_AUTO_ESCALATION_ENABLED=true
VITE_REQUIRE_CONSENT_FOR_988=true
VITE_REQUIRE_CONSENT_FOR_911=false  # Override for imminent danger
VITE_REQUIRE_CONSENT_FOR_LOCATION=true

# Fallback Emergency Services
VITE_FALLBACK_CRISIS_NUMBER=1-800-273-8255
VITE_FALLBACK_TEXT_NUMBER=741741
VITE_FALLBACK_EMERGENCY_NUMBER=911
VITE_FALLBACK_INTERNATIONAL_NUMBER=112

# ================================
# PERFORMANCE & OPTIMIZATION
# ================================
CDN_ENABLED=true
CDN_URL=https://cdn.astralcore.health
IMAGE_OPTIMIZATION=true
LAZY_LOADING=true
CODE_SPLITTING=true
TREE_SHAKING=true
MINIFICATION=true
SOURCE_MAPS=false  # Disabled in production
SERVICE_WORKER_ENABLED=true
PWA_ENABLED=true
CACHE_STRATEGY=network-first
CACHE_MAX_AGE=3600

# ================================
# BACKUP & RECOVERY
# ================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=astralcore-backups-prod
BACKUP_ENCRYPTION=true
DISASTER_RECOVERY_RTO=4  # Recovery Time Objective in hours
DISASTER_RECOVERY_RPO=1  # Recovery Point Objective in hours

# ================================
# DEPLOYMENT & CI/CD
# ================================
DEPLOYMENT_STRATEGY=blue-green
ROLLBACK_ON_ERROR=true
HEALTH_CHECK_PATH=/health
READINESS_CHECK_PATH=/ready
LIVENESS_CHECK_PATH=/alive
STARTUP_PROBE_DELAY=30
GRACEFUL_SHUTDOWN_TIMEOUT=30000
AUTO_SCALING_ENABLED=true
MIN_INSTANCES=3
MAX_INSTANCES=50
TARGET_CPU_UTILIZATION=70
TARGET_MEMORY_UTILIZATION=80

# ================================
# EMERGENCY CONTACTS
# ================================
EMERGENCY_CONTACT_PHONE=+1-XXX-XXX-XXXX
EMERGENCY_CONTACT_EMAIL=emergency@astralcore.health
ON_CALL_ROTATION_URL=https://oncall.astralcore.health
INCIDENT_MANAGEMENT_URL=https://incidents.astralcore.health
STATUS_PAGE_URL=https://status.astralcore.health

# ================================
# END OF CONFIGURATION
# ================================