# ================================================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# Astral Core Mental Health Platform v2.0
# ================================================================
# 
# This configuration is for local development
# Contains all necessary variables for running the platform locally
#
# Last Updated: 2025-08-30
# ================================================================

# ================================
# ENVIRONMENT SETTINGS
# ================================
NODE_ENV=development
DEPLOYMENT_ENV=development
APP_VERSION=2.0.0-dev
DEBUG=true
LOG_LEVEL=debug

# ================================
# APPLICATION URLS
# ================================
VITE_APP_URL=http://localhost:5173
VITE_API_BASE_URL=http://localhost:3001/api
VITE_WEBSOCKET_URL=ws://localhost:3001
VITE_CDN_URL=http://localhost:3001/static

# ================================
# DATABASE CONFIGURATION
# ================================
DATABASE_URL=postgresql://postgres:developmentPassword123!@localhost:5432/mental_health_platform?schema=public
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_IDLE_TIMEOUT=10000
DATABASE_CONNECTION_TIMEOUT=5000
DATABASE_MIGRATION_RUN=true
DATABASE_SEED_RUN=true

# Additional DB settings for development
DB_HOST=localhost
DB_PORT=5432
DB_NAME=mental_health_platform
DB_USER=postgres
DB_PASSWORD=developmentPassword123!
DB_LOGGING=true
DB_SYNCHRONIZE=false  # Use migrations instead

# ================================
# REDIS CONFIGURATION
# ================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=redisPassword123!
REDIS_TLS=false
REDIS_DB=0
REDIS_KEY_PREFIX=astral:dev:
REDIS_CACHE_TTL=3600
REDIS_SESSION_TTL=86400

# ================================
# AI SERVICES - DEVELOPMENT KEYS
# ================================

# OpenAI Configuration
VITE_OPENAI_API_KEY=sk-dev-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_OPENAI_ORG_ID=org-dev-XXXXXXXXXXXXXXXXXX
VITE_OPENAI_MODEL=gpt-3.5-turbo  # Use cheaper model in dev
VITE_OPENAI_CRISIS_MODEL=gpt-4-turbo
VITE_OPENAI_MAX_TOKENS=500
VITE_OPENAI_TEMPERATURE=0.7
VITE_OPENAI_TIMEOUT_MS=30000
VITE_OPENAI_RETRY_ATTEMPTS=3
VITE_OPENAI_MOCK_ENABLED=true  # Enable mocking for testing

# Anthropic Claude Configuration
VITE_ANTHROPIC_API_KEY=sk-ant-dev-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_ANTHROPIC_MODEL=claude-3-sonnet-20240229  # Use cheaper model in dev
VITE_ANTHROPIC_MAX_TOKENS=500
VITE_ANTHROPIC_TEMPERATURE=0.6
VITE_ANTHROPIC_TIMEOUT_MS=30000
VITE_ANTHROPIC_MOCK_ENABLED=true

# Google Gemini Configuration
VITE_GOOGLE_GEMINI_API_KEY=AIzaSyDEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_GEMINI_MODEL=gemini-pro
VITE_GEMINI_SAFETY_THRESHOLD=BLOCK_NONE
VITE_GEMINI_MAX_TOKENS=500
VITE_GEMINI_MOCK_ENABLED=true

# Hugging Face Configuration
VITE_HUGGINGFACE_API_KEY=hf_dev_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_HF_FALLBACK_MODEL=microsoft/DialoGPT-small  # Smaller model for dev
VITE_HF_MOCK_ENABLED=true

# ================================
# CRISIS SERVICES - DEVELOPMENT MODE
# ================================

# 988 Development/Test Environment
VITE_988_API_ENDPOINT=http://localhost:3001/mock/988
VITE_988_API_KEY=988-dev-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_988_WEBHOOK_SECRET=webhook-dev-XXXXXXXXXXXXXXXXXXXX
VITE_988_AUTO_CONNECT_ENABLED=false
VITE_988_CONSENT_REQUIRED=true
VITE_988_MOCK_ENABLED=true

# Crisis Text Line Development
VITE_CRISIS_TEXT_API_KEY=ctl-dev-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_CRISIS_TEXT_NUMBER=741741
VITE_CRISIS_TEXT_WEBHOOK_URL=http://localhost:3001/webhooks/crisis-text
VITE_CRISIS_TEXT_MOCK_ENABLED=true

# Emergency Services Development
VITE_RAPIDSOS_API_KEY=rapidsos-dev-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_EMERGENCY_DISPATCH_URL=http://localhost:3001/mock/emergency
VITE_EMERGENCY_WEBSOCKET_URL=ws://localhost:3001/mock/dispatch
VITE_911_AUTO_DIAL_THRESHOLD=0.999  # Very high threshold for dev
VITE_911_CONSENT_OVERRIDE=false
VITE_911_MOCK_ENABLED=true

# Mental Health Services APIs
VITE_SAMHSA_API_KEY=samhsa-dev-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_NAMI_API_KEY=nami-dev-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_SAMHSA_MOCK_ENABLED=true
VITE_NAMI_MOCK_ENABLED=true

# ================================
# GOOGLE SERVICES - DEVELOPMENT
# ================================
VITE_GOOGLE_PLACES_API_KEY=AIzaSyDEV-PLACES-XXXXXXXXXXXXXXXXXXXX
VITE_GOOGLE_GEOCODING_API_KEY=AIzaSyDEV-GEO-XXXXXXXXXXXXXXXXXXXXXXX
VITE_GOOGLE_MAPS_API_KEY=AIzaSyDEV-MAPS-XXXXXXXXXXXXXXXXXXXXXX
VITE_GOOGLE_MOCK_ENABLED=true

# ================================
# AUTHENTICATION & SECURITY
# ================================

# JWT Configuration
JWT_SECRET=dev-jwt-secret-minimum-64-characters-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=30d
JWT_ISSUER=http://localhost:3001
JWT_AUDIENCE=http://localhost:5173

# Session Configuration
SESSION_SECRET=dev-session-secret-minimum-64-characters-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
SESSION_NAME=astral.dev.sid
SESSION_MAX_AGE=86400000
SESSION_SECURE=false  # False for local development
SESSION_SAME_SITE=lax
SESSION_HTTP_ONLY=true

# OAuth Development Providers
VITE_GOOGLE_CLIENT_ID=DEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-DEV-XXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_GOOGLE_REDIRECT_URI=http://localhost:3001/auth/google/callback

VITE_APPLE_CLIENT_ID=com.astralcore.health.dev.signin
APPLE_TEAM_ID=DEV-XXX
APPLE_KEY_ID=DEV-XXX
APPLE_PRIVATE_KEY_PATH=/secure/keys/apple-signin-dev.p8

# Encryption Keys
ENCRYPTION_KEY=dev-encryption-key-32-characters!
ENCRYPTION_IV=dev-16-character!
CRYPTO_ALGORITHM=aes-256-gcm
ENCRYPTION_SALT=dev-salt-minimum-32-characters-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
BCRYPT_ROUNDS=10

# ================================
# COMMUNICATION SERVICES - DEV
# ================================

# Email (Development - Use Ethereal or MailHog)
EMAIL_PROVIDER=ethereal  # or mailhog
ETHEREAL_USER=dev.user@ethereal.email
ETHEREAL_PASS=devPassword123
MAILHOG_HOST=localhost
MAILHOG_PORT=1025
EMAIL_FROM=noreply@localhost
EMAIL_REPLY_TO=support@localhost
EMAIL_VERIFICATION_URL=http://localhost:5173/verify-email
EMAIL_RESET_PASSWORD_URL=http://localhost:5173/reset-password

# SMS (Development - Mock)
TWILIO_ACCOUNT_SID=AC-DEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_AUTH_TOKEN=DEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_PHONE_NUMBER=+15005550006
TWILIO_MESSAGING_SERVICE_SID=MG-DEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
SMS_MOCK_ENABLED=true

# Push Notifications (Development)
VAPID_PUBLIC_KEY=BIP-DEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VAPID_PRIVATE_KEY=DEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VAPID_SUBJECT=mailto:admin@localhost
PUSH_MOCK_ENABLED=true

# WebRTC (Development)
VITE_WEBRTC_STUN_SERVER=stun:stun.l.google.com:19302
VITE_WEBRTC_TURN_SERVER=turn:localhost:3478
VITE_WEBRTC_TURN_USERNAME=dev-user
VITE_WEBRTC_TURN_PASSWORD=dev-password
WEBRTC_MOCK_ENABLED=true

# ================================
# MONITORING & OBSERVABILITY
# ================================

# Sentry (Development Project)
SENTRY_DSN=https://DEV-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX@o4504504504504504.ingest.sentry.io/4504504504504504
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0  # Full tracing in dev
SENTRY_PROFILES_SAMPLE_RATE=1.0
SENTRY_REPLAY_SESSION_SAMPLE_RATE=1.0
SENTRY_REPLAY_ON_ERROR_SAMPLE_RATE=1.0
SENTRY_DEBUG=true

# DataDog APM (Development)
DATADOG_API_KEY=dd-dev-api-key-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DATADOG_APP_KEY=dd-dev-app-key-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DATADOG_SITE=datadoghq.com
DATADOG_ENV=development
DATADOG_SERVICE=astralcore-mental-health-dev
DATADOG_ENABLED=false  # Disable in local dev

# Logging
LOG_FORMAT=pretty  # Use pretty format for dev
LOG_DESTINATION=console
LOG_FILE_PATH=./logs/development.log
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=30
ERROR_LOG_PATH=./logs/error.log

# ================================
# COMPLIANCE & SECURITY
# ================================

# HIPAA Compliance (Relaxed for Development)
HIPAA_AUDIT_ENABLED=false
HIPAA_ENCRYPTION_REQUIRED=false
HIPAA_DATA_RETENTION_DAYS=7
HIPAA_ACCESS_LOG_ENABLED=true
HIPAA_BREACH_NOTIFICATION_EMAIL=compliance-dev@localhost

# Security Headers (Relaxed for Development)
SECURITY_HSTS_ENABLED=false
SECURITY_CSP_ENABLED=false
SECURITY_CSP_REPORT_ONLY=true
SECURITY_CSP_REPORT_URI=http://localhost:3001/csp-report

# Rate Limiting (Relaxed for Development)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=10000
RATE_LIMIT_AUTH_MAX=100
RATE_LIMIT_CRISIS_MAX=100000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true
RATE_LIMIT_SKIP_FAILED_REQUESTS=false
RATE_LIMIT_ENABLED=false  # Disable in dev

# CORS Configuration
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:3001,http://127.0.0.1:5173
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ================================
# FEATURE FLAGS - DEVELOPMENT
# ================================
ENABLE_2FA=true
ENABLE_OAUTH=true
ENABLE_ANONYMOUS_AUTH=true
ENABLE_BIOMETRIC_AUTH=false  # Browser-dependent
ENABLE_AI_CRISIS_DETECTION=true
ENABLE_988_INTEGRATION=true
ENABLE_911_INTEGRATION=true
ENABLE_CRISIS_TEXT=true
ENABLE_WEBRTC_CALLING=true
ENABLE_LOCATION_SERVICES=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_THERAPY_MATCHING=true
ENABLE_PEER_SUPPORT=true
ENABLE_TELETHERAPY=true
ENABLE_MEDICATION_TRACKING=true
ENABLE_MOOD_TRACKING=true
ENABLE_JOURNAL=true
ENABLE_SAFETY_PLAN=true
ENABLE_RESOURCE_LIBRARY=true
ENABLE_FORUM=true
ENABLE_CHAT=true
ENABLE_VIDEO_LIBRARY=true
ENABLE_MINDFULNESS=true
ENABLE_BREATHING_EXERCISES=true
ENABLE_SLEEP_TRACKING=true
ENABLE_SYMPTOM_TRACKING=true
ENABLE_GOAL_SETTING=true
ENABLE_PROGRESS_TRACKING=true
ENABLE_CERTIFICATES=true
ENABLE_GAMIFICATION=true
ENABLE_ACHIEVEMENTS=true
ENABLE_MULTILINGUAL=true
ENABLE_CULTURAL_ADAPTATION=true
ENABLE_ADMIN_DASHBOARD=true
ENABLE_ANALYTICS=true
ENABLE_A_B_TESTING=true
ENABLE_MAINTENANCE_MODE=false
ENABLE_DEBUG_MODE=true
ENABLE_HOT_RELOAD=true
ENABLE_SOURCE_MAPS=true
ENABLE_REACT_DEVTOOLS=true
ENABLE_REDUX_DEVTOOLS=true

# ================================
# CRISIS THRESHOLDS & SETTINGS
# ================================
VITE_CRISIS_AUTO_DIAL_THRESHOLD=0.999  # Very high for dev
VITE_EMERGENCY_ESCALATION_THRESHOLD=0.999
VITE_MONITORING_ALERT_THRESHOLD=0.50
VITE_AI_CONFIDENCE_THRESHOLD=0.60
VITE_HUMAN_REVIEW_THRESHOLD=0.40
VITE_AUTO_ESCALATION_ENABLED=false
VITE_REQUIRE_CONSENT_FOR_988=true
VITE_REQUIRE_CONSENT_FOR_911=true
VITE_REQUIRE_CONSENT_FOR_LOCATION=true

# Fallback Emergency Services
VITE_FALLBACK_CRISIS_NUMBER=1-800-273-8255
VITE_FALLBACK_TEXT_NUMBER=741741
VITE_FALLBACK_EMERGENCY_NUMBER=911
VITE_FALLBACK_INTERNATIONAL_NUMBER=112

# ================================
# PERFORMANCE & OPTIMIZATION
# ================================
CDN_ENABLED=false
IMAGE_OPTIMIZATION=false  # Disable for faster dev builds
LAZY_LOADING=true
CODE_SPLITTING=true
TREE_SHAKING=false  # Disable for faster dev builds
MINIFICATION=false
SOURCE_MAPS=true
SERVICE_WORKER_ENABLED=true
PWA_ENABLED=true
CACHE_STRATEGY=no-cache  # Disable caching in dev
CACHE_MAX_AGE=0

# Build Configuration
BUILD_ANALYZE=false
BUILD_REPORT=false
BUILD_SOURCEMAP=inline
BUILD_INLINE_RUNTIME=false
BUILD_LEGACY=false

# ================================
# DEVELOPMENT TOOLS
# ================================

# Mock Data
USE_MOCK_DATA=true
MOCK_API_DELAY=500  # Simulate network delay
MOCK_API_ERROR_RATE=0  # Percentage of requests to fail
MOCK_USER_COUNT=100
SEED_DATABASE=true

# Test Users
TEST_USER_EMAIL=user@localhost
TEST_USER_PASSWORD=TestUser123!
TEST_THERAPIST_EMAIL=therapist@localhost
TEST_THERAPIST_PASSWORD=Therapist123!
TEST_ADMIN_EMAIL=admin@localhost
TEST_ADMIN_PASSWORD=Admin123!
TEST_CRISIS_USER_EMAIL=crisis@localhost
TEST_CRISIS_USER_PASSWORD=Crisis123!

# Development Server
DEV_SERVER_PORT=5173
DEV_SERVER_HOST=localhost
DEV_SERVER_HTTPS=false
DEV_SERVER_OPEN=true
DEV_SERVER_PROXY_API=http://localhost:3001

# API Server
API_SERVER_PORT=3001
API_SERVER_HOST=localhost
API_BODY_LIMIT=10mb
API_CORS_ENABLED=true
API_COMPRESSION_ENABLED=true
API_HELMET_ENABLED=false  # Disable in dev for easier testing

# ================================
# TESTING CONFIGURATION
# ================================
TEST_DATABASE_URL=postgresql://postgres:testPassword123!@localhost:5432/mental_health_test
TEST_REDIS_URL=redis://localhost:6380
TEST_COVERAGE_THRESHOLD=80
TEST_TIMEOUT=30000
TEST_RETRY_COUNT=2
TEST_PARALLEL=true
TEST_WATCH=false

# E2E Testing
E2E_BASE_URL=http://localhost:5173
E2E_HEADLESS=false
E2E_SLOW_MO=100
E2E_TIMEOUT=60000
E2E_RETRY_COUNT=1

# ================================
# BACKUP & RECOVERY
# ================================
BACKUP_ENABLED=false  # Disable in dev
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=3
BACKUP_PATH=./backups
BACKUP_ENCRYPTION=false

# ================================
# DEPLOYMENT & CI/CD
# ================================
DEPLOYMENT_STRATEGY=direct
ROLLBACK_ON_ERROR=false
HEALTH_CHECK_PATH=/health
READINESS_CHECK_PATH=/ready
LIVENESS_CHECK_PATH=/alive
STARTUP_PROBE_DELAY=5
GRACEFUL_SHUTDOWN_TIMEOUT=5000
AUTO_SCALING_ENABLED=false
MIN_INSTANCES=1
MAX_INSTANCES=1

# ================================
# LOCAL DEVELOPMENT OVERRIDES
# ================================
# Add any personal overrides below this line
# These should not be committed to version control

# ================================
# END OF DEVELOPMENT CONFIGURATION
# ================================